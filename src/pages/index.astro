---
import SocialList from "@/components/SocialList.astro";
import PostPreview from "@/components/blog/PostPreview.astro";
import { getAllPosts, sortMDByDate } from "@/data/post";
import PageLayout from "@/layouts/Base.astro";

const MAX_POSTS = 10;
const allPosts = await getAllPosts();
const allPostsByDate = sortMDByDate(allPosts).slice(0, MAX_POSTS);

const cactusTech: { desc: string; href: string; title: string }[] = [
	{
		desc: "Population, Age Distribution, Air.",
		href: "https://dataforaf.pages.dev/posts/people/",
		title: "People",
	},
	{
		desc: "Rapidly build modern websites without ever leaving your HTML.",
		href: "https://tailwindcss.com",
		title: "Tailwind CSS",
	},
	{
		desc: "Simple and easy-to-use markup language.",
		href: "https://www.markdownguide.org/",
		title: "Markdown",
	},
	{
		desc: "Markdown for the component era.",
		href: "https://mdxjs.com/",
		title: "MDX",
	},
	{
		desc: "Generating png Open Graph images for blog posts.",
		href: "https://github.com/vercel/satori",
		title: "Satori",
	},
	{
		desc: "A fully static search library.",
		href: "https://pagefind.app/",
		title: "Pagefind",
	},
	{
		desc: "An easy to use Icon component for Astro.",
		href: "https://github.com/natemoo-re/astro-icon#readme",
		title: "Astro Icon",
	},
	{
		desc: "Highly customisable source code & syntax highlighter",
		href: "https://expressive-code.com/",
		title: "Expressive Code",
	},
];
---

<PageLayout meta={{ title: "Home" }}>
	<section>
		<h1 class="title mb-6">Your Gateway to Data Visualizations on Afghanistan</h1>
		<p class="mb-4">
			Discover, learn, and engage with key topics on Afghanistan through our curated and 
accessible data visualizations. Our platform's goal is to democratize data on Afghanistan, so that anyone can gain knowledge  
about Afghanistan, anytime and anywhere.
		</p>
	</section>

  <!-- <SocialList />    Disabled  
	<section aria-label="Blog post list" class="mt-16">
		<h2 class="title mb-4 text-xl">Data Pages</h2>
		<ul class="space-y-4">
			{
				allPostsByDate.map((p) => (
					<li class="grid gap-2 sm:grid-cols-[auto_1fr] sm:[&_q]:col-start-2">
						<PostPreview post={p} />
					</li>
				))
			}
		</ul>
	</section>  -->

     <!-- <Data Pages />    --> 
	<section class="mt-16">
		<h2 class="title mb-4 text-xl">Data Pages</h2>
		<dl class="space-y-4">
			{
				cactusTech.map(({ desc, href, title }) => (
					<div class="flex flex-col gap-2 sm:flex-row">
						<dt>
							<span class="flex">
								<a class="cactus-link" href={href} rel="noopener noreferrer" >
									{title}
								</a>
								:
							</span>
						</dt>
						<dd>{desc}</dd>
					</div>
				))
			}
		</dl>
	</section>

    <!-- <Sample Visualization />    --> 
  <section class="mt-16">
		<h2 class="title mb-4 text-xl"> </h2>

  <iframe title="The Sustainable Development Goals Scores (0 -100), 2023 vs. 2010" aria-label="Arrow Plot" id="datawrapper-chart-DtZPY" src="https://datawrapper.dwcdn.net/DtZPY/2/" scrolling="no" frameborder="0" style="width: 0; min-width: 100% !important; border: none;" height="464" data-external="1"></iframe><script type="text/javascript">!function(){"use strict";window.addEventListener("message",(function(a){if(void 0!==a.data["datawrapper-height"]){var e=document.querySelectorAll("iframe");for(var t in a.data["datawrapper-height"])for(var r=0;r<e.length;r++)if(e[r].contentWindow===a.source){var i=a.data["datawrapper-height"][t]+"px";e[r].style.height=i}}}))}();
</script>

  </section>

   <!-- <Sponsors />    --> 
<section class="mt-16">
		<h2 class="title mb-4 text-xl">Our Sponsors</h2>
<p class="mb-4">
			We thank our sponsors, who help us to keep democratizing data on Afghanistan.
		</p>
</section>
</PageLayout>
